<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName ${HOME_ASSISTANT_DOMAIN_NAME}
    ServerAlias ${HOME_ASSISTANT_DOMAIN_NAME}

    ProxyPreserveHost On
    ProxyRequests off

    ProxyPass /api/websocket ws://localhost:8123/api/websocket
    ProxyPassReverse /api/websocket ws://localhost:8123/api/websocket
    ProxyPass / http://localhost:8123/
    ProxyPassReverse / http://localhost:8123/

    SSLCertificateFile /etc/letsencrypt/live/${DOMAIN_NAME}/fullchain.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/${DOMAIN_NAME}/privkey.pem
</VirtualHost>
</IfModule>
